name: Build
# This workflow is triggered on pushes to the repository.
on: [push]

jobs:
  build:
    # Job name is Greeting
    name: Greeting
    # This job runs on Linux
    runs-on: ubuntu-latest
    steps:
      - uses: actions/setup-go@v1
        with:
          go-version: "1.13.1"

      - name: checkout
        uses: actions/checkout@v1
        with:
          path: go/src/github.com/nlimpid/demo

      - name: Debug
        run: |
          pwd
          echo ${HOME}
          echo ${GITHUB_WORKSPACE}
          echo ${GOPATH}
          echo ${GOROOT}
          echo ${PWD}
        env:
          GOPATH: /home/runner/work/demo/go/

      - name: Build
        run: sh build.sh
        env:
          GOPATH: /home/runner/work/demo/go/
